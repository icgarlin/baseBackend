!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=32)}([function(e,t){e.exports=require("type-graphql")},function(e,t){e.exports=require("mongoose")},function(e,t){},function(e,t){e.exports=require("reflect-metadata")},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=require("graphql-upload")},function(e,t,r){"use strict";r.r(t),function(e){var t=r(1),n=r.n(t),i=new n.a.Schema({filename:{type:String,required:[!0,"The filename is necessary"]},mimetype:{type:String,required:[!0,"The mimetype is necessary"]},path:{type:String,required:[!0,"The path is necessary"]}}),a=n.a.model("FileModel",i);e.exports={FileModel:a}}.call(this,r(4)(e))},function(e,t){e.exports=require("dotenv")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(14),i=function(e){return n.sign({userId:e},process.env.JWT_SECRET,{expiresIn:"24h"})},a=function(e){return n.sign({type:"refresh",date:Date.now(),username:e},process.env.JWT_SECRET,{expiresIn:"24h"})};function o(e,t,r,n,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}var u=r(12).UserModel,c=function(e,t,r){u.findOne({username:e},(function(n,o){return n?r.status(400).send("There has been an error with accessing the database"):o?void o.comparePassword(t,(function(t,n){if(t)return r.status(400).send('There has been an error with accessing "comparePassword" ');if(n){var u=a(e);o.refreshToken=u,o.markModified("refreshToken"),o.save();var c=i(o._id);return r.status(200).json({user:o,accessToken:c})}return r.status(401).send("Incorrect passowrd")})):r.status(401).send("A user with this username does not exist")})).catch((function(e){return r.status(400).send(e)}))},l=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,n,o){var c,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.findOne({$or:[{username:t},{email:n}]});case 3:if(c=e.sent){e.next=9;break}return(l=new u({username:t,password:r,email:n,birth:o,refreshToken:a(t)})).save(),s=i(l._id),e.abrupt("return",{user:l,accessToken:s});case 9:if(c.username!==t){e.next=11;break}return e.abrupt("return",{status:"409",message:"This username is already in use"});case 11:if(c.email!==n){e.next=13;break}return e.abrupt("return",{status:"409",message:"This email is already in use"});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,c,"next",e)}function c(e){o(a,n,i,u,c,"throw",e)}u(void 0)}))});return function(e,r,n,i){return t.apply(this,arguments)}}()},function(e,t,r){"use strict";r.r(t),function(e){var t=r(6).FileModel,n=r(10).AudioModel,i=r(21).MixtapeModel,a=r(11).ThndrModel,o=r(12).UserModel;e.exports={FileModel:t,AudioModel:n,MixtapeModel:i,ThndrModel:a,UserModel:o}}.call(this,r(4)(e))},function(e,t,r){var n=r(1),i=new(0,n.Schema)({userId:{type:String},title:{type:String,required:!0},track:{type:String},hashtags:[{type:String}],features:[{type:String}],cover:{type:String}},{timestamps:!0});e.exports=n.model("AudioModel",i)},function(e,t,r){"use strict";r.r(t),function(e){var t=r(1),n=r.n(t),i=new n.a.Schema({text:{type:String,required:!0},fileIds:[{type:n.a.Schema.Types.ObjectId,ref:"File",required:!1}],userId:{type:n.a.Schema.Types.ObjectId,ref:"User",required:!0},likesIds:[{type:n.a.Schema.Types.ObjectId,ref:"User"}],isReposted:{type:n.a.Schema.Types.Boolean,default:!1},reverb:[{reverberId:{type:n.a.Schema.Types.ObjectId,ref:"User"},originalThndrId:{type:n.a.Schema.Types.ObjectId,ref:"Thndr"}}],commentIds:[{type:n.a.Schema.Types.ObjectId,ref:"Comment"}]},{timestamps:!0}),a=n.a.model("ThndrModel",i,"thndrmodels");e.exports={ThndrModel:a}}.call(this,r(4)(e))},function(e,t,r){"use strict";r.r(t),function(e){var t=r(1),n=r.n(t),i=r(17),a=r.n(i),o=r(18),u=r.n(o),c=new n.a.Schema({username:{type:String,unique:!0,required:!0},email:{type:String,unique:!0,required:!0,validate:[u.a,"No valid email address provided."]},password:{type:String,required:!0,minlength:7,maxlength:60},role:{type:String},name:{type:String},bio:{type:String,maxlength:150},birth:{type:String},avatar:{type:String},cover:{type:String},followerIds:[{type:n.a.Schema.Types.ObjectId,ref:"User"}],followingIds:[{type:n.a.Schema.Types.ObjectId,ref:"User"}],thndr:[{type:n.a.Schema.Types.ObjectId,ref:"Thndr"}],refreshToken:{type:String}});c.methods.comparePassword=function(e,t){a.a.compare(e,this.password,(function(e,r){if(e)return t(e);t(null,r)}))};var l=n.a.model("UserModel",c,"users");e.exports={UserModel:l}}.call(this,r(4)(e))},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("apollo-server-express")},function(e,t){e.exports=require("bcryptjs")},function(e,t){e.exports=require("validator/lib/isEmail")},function(e,t){e.exports=require("uuid")},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=r(27)},function(e,t,r){"use strict";r.r(t),function(e){var t=r(1),n=t.Schema,i=r(10).schema,a=new n({title:{type:String},hashtags:[{type:String}],userId:{type:String},tracks:[{type:i}],cover:{type:String},description:{type:String},credits:{type:String}},{timestamps:!0}),o=t.model("MixtapeModel",a);e.exports={MixtapeModel:o}}.call(this,r(4)(e))},function(e,t,r){var n=r(23).s3;r(25).jwt;e.exports={s3:n}},function(e,t,r){var n=r(24);r(7).config(),n.config.update({signatureVersion:"v4",region:"us-east-2",accessKeyId:process.env.AWSAccessKeyId,secretAccessKey:process.env.AWSSecretKey});var i=new n.S3;e.exports={s3:i}},function(e,t){e.exports=require("aws-sdk")},function(e,t,r){r(7).config();var n={superSecret:process.env.SUPER_SECRET,expireIn:"24h",refreshExpireIn:"24h"};e.exports={jwt:n}},function(e,t,r){"use strict";r.r(t),function(e){var t=r(20),n=r(15),i=n(),a=r(28),o=r(29);r(13),n.Router();i.use(o()),i.options("*",o()),i.use(a.json()),i.use(a.urlencoded({extended:!1})),i.use((function(e,t,r){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept, Authorization"),r()})),i.use("/",t.a),e.exports=i}.call(this,r(4)(e))},function(e,t,r){"use strict";r.r(t),function(e){var t=r(8);function n(e,t,r,n,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function u(e){n(o,i,a,u,c,"next",e)}function c(e){n(o,i,a,u,c,"throw",e)}u(void 0)}))}}var a=r(15).Router();a.post("/login",function(){var e=i(regeneratorRuntime.mark((function e(r,n){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r.body,a=i.username,o=i.password,e.next=4,Object(t.a)(a,o,n);case 4:e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.status(400).send(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),a.post("/register",function(){var e=i(regeneratorRuntime.mark((function e(r,n){var i,a,o,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.body,a=i.username,o=i.password,u=i.email,c=i.birth,l=Object(t.b)(a,o,u,c),e.abrupt("return",n.send(l));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.exports=a}.call(this,r(4)(e))},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("debug")},function(e,t,r){"use strict";r.r(t);r(3);var n,i,a,o,u,c,l,s,p,d,f,b,y,g,m,h=r(16),v=r(5),O=r(0),w=r(19);function x(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function j(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I,R,S,k,T,z,P,F,C,A,M,D,B,q,_,U,E,$,N,L,Q,K,G,W,V,J,H,X,Y,Z,ee,te,re,ne,ie,ae,oe,ue,ce,le,se,pe,de,fe,be,ye,ge,me,he,ve,Oe,we,xe,je,Ie,Re,Se,ke,Te,ze,Pe,Fe,Ce,Ae,Me,De,Be,qe,_e,Ue=(n=Object(O.ObjectType)(),i=Object(O.Field)((function(e){return O.ID}),{nullable:!0}),a=Reflect.metadata("design:type",String),o=Object(O.Field)((function(e){return String}),{nullable:!1}),u=Reflect.metadata("design:type",String),c=Object(O.Field)((function(e){return O.ID}),{nullable:!1}),l=Reflect.metadata("design:type",String),s=Object(O.Field)((function(e){return O.ID}),{nullable:!0}),p=Reflect.metadata("design:type",String),n((b=j((f=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,"id",b,this),x(this,"text",y,this),x(this,"userId",g,this),x(this,"fileId",m,this)}).prototype,"id",[i,a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(f.prototype,"text",[o,u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j(f.prototype,"userId",[c,l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=j(f.prototype,"fileId",[s,p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d);function Ee(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Le,Qe,Ke,Ge,We,Ve,Je,He,Xe,Ye,Ze,et,tt,rt,nt,it,at,ot,ut,ct,lt,st,pt,dt,ft,bt,yt,gt,mt,ht,vt,Ot,wt,xt,jt,It,Rt,St,kt,Tt,zt,Pt,Ft=(I=Object(O.ObjectType)(),R=Object(O.Field)((function(e){return Boolean}),{nullable:!0}),S=Reflect.metadata("design:type",Boolean),k=Object(O.Field)((function(e){return String}),{nullable:!0}),T=Reflect.metadata("design:type",String),I((F=Ne((P=function e(){$e(this,e),Ee(this,"hasNextPage",F,this),Ee(this,"endCursor",C,this)}).prototype,"hasNextPage",[R,S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Ne(P.prototype,"endCursor",[k,T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=P))||z),Ct=(A=Object(O.ObjectType)(),M=Object(O.Field)((function(e){return O.ID})),D=Reflect.metadata("design:type",String),B=Object(O.Field)((function(e){return O.ID})),q=Reflect.metadata("design:type",String),A((E=Ne((U=function e(){$e(this,e),Ee(this,"reverberId",E,this),Ee(this,"originalThndrId",$,this)}).prototype,"reverberId",[M,D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=Ne(U.prototype,"originalThndrId",[B,q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=U))||_),At=(N=Object(O.ObjectType)(),L=Object(O.Field)((function(e){return O.ID})),Q=Reflect.metadata("design:type",String),K=Object(O.Field)((function(e){return String})),G=Reflect.metadata("design:type",String),W=Object(O.Field)((function(e){return Date})),V=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),J=Object(O.Field)((function(e){return O.ID})),H=Reflect.metadata("design:type",String),X=Object(O.Field)((function(e){return[String]}),{nullable:!0}),Y=Reflect.metadata("design:type",Array),Z=Object(O.Field)((function(e){return O.Int})),ee=Reflect.metadata("design:type",Number),te=Object(O.Field)((function(e){return Boolean})),re=Reflect.metadata("design:type",Boolean),ne=Object(O.Field)((function(e){return Boolean})),ie=Reflect.metadata("design:type",Boolean),ae=Object(O.Field)((function(e){return Boolean})),oe=Reflect.metadata("design:type",Boolean),ue=Object(O.Field)((function(e){return[Ct]})),ce=Reflect.metadata("design:type",Array),le=Object(O.Field)((function(e){return O.Int})),se=Reflect.metadata("design:type",Number),pe=Object(O.Field)((function(e){return[Ue]})),de=Reflect.metadata("design:type",Array),fe=Object(O.Field)((function(e){return O.Int})),be=Reflect.metadata("design:type",Number),N((me=Ne((ge=function e(){$e(this,e),Ee(this,"id",me,this),Ee(this,"text",he,this),Ee(this,"createdAt",ve,this),Ee(this,"userId",Oe,this),Ee(this,"files",we,this),Ee(this,"likesCount",xe,this),Ee(this,"isLiked",je,this),Ee(this,"isRepostedByMe",Ie,this),Ee(this,"isReposted",Re,this),Ee(this,"reverb",Se,this),Ee(this,"reverbCount",ke,this),Ee(this,"comments",Te,this),Ee(this,"commentCount",ze,this)}).prototype,"id",[L,Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Ne(ge.prototype,"text",[K,G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Ne(ge.prototype,"createdAt",[W,V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Ne(ge.prototype,"userId",[J,H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Ne(ge.prototype,"files",[X,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Ne(ge.prototype,"likesCount",[Z,ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Ne(ge.prototype,"isLiked",[te,re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Ne(ge.prototype,"isRepostedByMe",[ne,ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=Ne(ge.prototype,"isReposted",[ae,oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Ne(ge.prototype,"reverb",[ue,ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Ne(ge.prototype,"reverbCount",[le,se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Ne(ge.prototype,"comments",[pe,de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Ne(ge.prototype,"commentCount",[fe,be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=ge))||ye),Mt=(Pe=Object(O.ObjectType)(),Fe=Object(O.Field)((function(e){return[At]}),{nullable:!0}),Ce=Reflect.metadata("design:type",Array),Ae=Object(O.Field)((function(e){return Ft}),{nullable:!0}),Me=Reflect.metadata("design:type",void 0===Ft?Object:Ft),Pe((qe=Ne((Be=function e(){$e(this,e),Ee(this,"edges",qe,this),Ee(this,"pageInfo",_e,this)}).prototype,"edges",[Fe,Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Ne(Be.prototype,"pageInfo",[Ae,Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Be))||De);function Dt(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Bt(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qt,_t,Ut,Et,$t,Nt,Lt,Qt,Kt,Gt,Wt,Vt,Jt,Ht,Xt,Yt,Zt,er,tr,rr,nr,ir,ar,or,ur,cr,lr,sr,pr,dr,fr,br,yr,gr,mr,hr,vr,Or,wr,xr,jr,Ir,Rr,Sr,kr,Tr,zr,Pr,Fr,Cr,Ar,Mr,Dr,Br,qr,_r=(Le=Object(O.ObjectType)(),Qe=Object(O.Field)((function(e){return O.ID}),{nullable:!0}),Ke=Reflect.metadata("design:type",String),Ge=Object(O.Field)((function(e){return String}),{nullable:!0}),We=Reflect.metadata("design:type",String),Ve=Object(O.Field)((function(e){return String}),{nullable:!0}),Je=Reflect.metadata("design:type",String),He=Object(O.Field)((function(e){return String}),{nullable:!0}),Xe=Reflect.metadata("design:type",String),Ye=Object(O.Field)((function(e){return String}),{nullable:!0}),Ze=Reflect.metadata("design:type",String),et=Object(O.Field)((function(e){return String}),{nullable:!0}),tt=Reflect.metadata("design:type",String),rt=Object(O.Field)((function(e){return String}),{nullable:!0}),nt=Reflect.metadata("design:type",String),it=Object(O.Field)((function(e){return String}),{nullable:!0}),at=Reflect.metadata("design:type",String),ot=Object(O.Field)((function(e){return[At]}),{nullable:!0}),ut=Reflect.metadata("design:type",Array),ct=Object(O.Field)((function(e){return v.GraphQLUpload}),{nullable:!0}),lt=Reflect.metadata("design:type",Object),st=Object(O.Field)((function(e){return v.GraphQLUpload}),{nullable:!0}),pt=Reflect.metadata("design:type",Object),dt=Object(O.Field)((function(e){return[O.ID]}),{nullable:!0}),ft=Reflect.metadata("design:type",Array),bt=Object(O.Field)((function(e){return[O.ID]}),{nullable:!0}),yt=Reflect.metadata("design:type",Array),Le((ht=Bt((mt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Dt(this,"id",ht,this),Dt(this,"username",vt,this),Dt(this,"password",Ot,this),Dt(this,"email",wt,this),Dt(this,"name",xt,this),Dt(this,"role",jt,this),Dt(this,"bio",It,this),Dt(this,"birth",Rt,this),Dt(this,"thndr",St,this),Dt(this,"avatar",kt,this),Dt(this,"cover",Tt,this),Dt(this,"followerIds",zt,this),Dt(this,"followingIds",Pt,this)}).prototype,"id",[Qe,Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Bt(mt.prototype,"username",[Ge,We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=Bt(mt.prototype,"password",[Ve,Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Bt(mt.prototype,"email",[He,Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Bt(mt.prototype,"name",[Ye,Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Bt(mt.prototype,"role",[et,tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Bt(mt.prototype,"bio",[rt,nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=Bt(mt.prototype,"birth",[it,at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Bt(mt.prototype,"thndr",[ot,ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Bt(mt.prototype,"avatar",[ct,lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Bt(mt.prototype,"cover",[st,pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Bt(mt.prototype,"followerIds",[dt,ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Bt(mt.prototype,"followingIds",[bt,yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=mt))||gt),Ur=r(2);function Er(e){return function(e){if(Array.isArray(e))return $r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){Qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(e,t,r,n,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function Gr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Kr(a,n,i,o,u,"next",e)}function u(e){Kr(a,n,i,o,u,"throw",e)}o(void 0)}))}}function Wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Jr,Hr,Xr,Yr,Zr,en,tn=r(22).s3,rn=r(9),nn=rn.UserModel,an=rn.ThndrModel,on=r(6).FileModel,un=r(13),cn=function(e){return e?Buffer.from(e).toString("base64"):""},ln=(qt=Object(O.Resolver)((function(e){return _r})),_t=Object(O.Mutation)((function(e){return At}),{nullable:!0}),Ut=function(e,t){return Object(O.Arg)("text",(function(){return String}))(e,t,0)},Et=function(e,t){return Object(O.Arg)("files",(function(){return[v.GraphQLUpload]}),{nullable:!0})(e,t,1)},$t=function(e,t){return Object(O.Ctx)()(e,t,2)},Nt=Reflect.metadata("design:type",Function),Lt=Reflect.metadata("design:paramtypes",[String,Array,void 0===Ur.Context?Object:Ur.Context]),Qt=Object(O.Query)((function(e){return Mt})),Kt=function(e,t){return Object(O.Arg)("cursor",(function(e){return String}))(e,t,0)},Gt=function(e,t){return Object(O.Arg)("limit",(function(e){return O.Int}))(e,t,1)},Wt=function(e,t){return Object(O.Ctx)()(e,t,2)},Vt=Reflect.metadata("design:type",Function),Jt=Reflect.metadata("design:paramtypes",[String,Number,void 0===Ur.Context?Object:Ur.Context]),Ht=Object(O.Query)((function(){return _r}),{name:"userById"}),Xt=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},Yt=Reflect.metadata("design:type",Function),Zt=Reflect.metadata("design:paramtypes",[String]),er=Object(O.Query)((function(){return _r}),{name:"findUser"}),tr=Reflect.metadata("design:type",Function),rr=Reflect.metadata("design:paramtypes",[void 0]),nr=Object(O.Query)((function(){return[_r]})),ir=Reflect.metadata("design:type",Function),ar=Reflect.metadata("design:paramtypes",[void 0]),or=Object(O.Mutation)((function(){return Boolean}),{nullable:!0}),ur=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},cr=function(e,t){return Object(O.Ctx)()(e,t,1)},lr=Reflect.metadata("design:type",Function),sr=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),pr=Object(O.Mutation)((function(){return Boolean}),{nullable:!0}),dr=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},fr=function(e,t){return Object(O.Ctx)()(e,t,1)},br=Reflect.metadata("design:type",Function),yr=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),gr=Object(O.Mutation)((function(e){return Boolean})),mr=function(e,t){return Object(O.Arg)("thndrId",(function(e){return O.ID}))(e,t,0)},hr=function(e,t){return Object(O.Ctx)()(e,t,1)},vr=Reflect.metadata("design:type",Function),Or=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),wr=Object(O.Mutation)((function(e){return Boolean})),xr=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},jr=function(e,t){return Object(O.Ctx)()(e,t,1)},Ir=Reflect.metadata("design:type",Function),Rr=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),Sr=Object(O.Mutation)((function(e){return Boolean})),kr=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},Tr=function(e,t){return Object(O.Ctx)()(e,t,1)},zr=Reflect.metadata("design:type",Function),Pr=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),Fr=Object(O.Mutation)((function(e){return Boolean})),Cr=function(e,t){return Object(O.Arg)("id",(function(e){return O.ID}))(e,t,0)},Ar=function(e,t){return Object(O.Ctx)()(e,t,1)},Mr=Reflect.metadata("design:type",Function),Dr=Reflect.metadata("design:paramtypes",[String,void 0===Ur.Context?Object:Ur.Context]),qt((Vr((qr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,i,a,o,u,c,l,s,p,d,f,b;return t=e,(r=[{key:"createThndrPost",value:(b=Gr(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,u,c,l,s,p,d,f,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=40;break}if(console.log("this is the context: ",n),console.log("this is the text: ",t),i=[],console.log("the files: ",r),!r){e.next=29;break}a=0;case 8:if(!(a<r.length)){e.next=29;break}return e.next=11,r[a];case 11:return o=e.sent,u=o.createReadStream,c=o.filename,l=o.mimetype,o.encoding,s=u(),e.next=19,tn.upload({Bucket:"thndr-test-bucket",Body:s,Key:"".concat(n.user.id,"/thndr/").concat(Object(w.v1)()).concat(un.extname(c)),ContentType:l,ACL:"public-read"}).promise();case 19:return p=e.sent,console.log("the upload: ",p.Location),e.next=23,on.create({filename:c,mimetype:l,path:p.Location});case 23:(d=e.sent).save(),i.push(d._id);case 26:a++,e.next=8;break;case 29:return console.log("the fileIds ",i),e.next=32,nn.findOne({_id:n.user.id});case 32:if(!(f=e.sent)){e.next=39;break}return e.next=36,an.create({text:t,fileIds:r?i:null,userId:n.user.id});case 36:(b=e.sent).save(),f.thndr.push(b._id);case 39:return e.abrupt("return",b);case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(0),console.log(e.t0);case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),function(e,t,r){return b.apply(this,arguments)})},{key:"thndrs",value:(f=Gr(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,u,c,l,s,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.user){e.next=6;break}return e.next=3,nn.findOne({username:n.user.username});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:if(o=e.t0,!n.user){e.next=14;break}return e.next=11,nn.findById(o.id);case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=null;case 15:return u=e.t1,c=t?new Date((f=t,Buffer.from(f,"base64").toString("ascii"))):null,l=Lr(Lr({},c&&{createdAt:{$lt:c}}),!!u&&!n.user.username&&{$or:[{"thndr.userId":{$in:[].concat(Er(u.followingIds),[u._id])}},{"reposts.reposterId":{$in:[].concat(Er(u.followingIds),[u._id])}}]}),console.log(l),e.next=21,an.aggregate([{$addFields:{id:{$toString:"$_id"}}},{$match:l},{$sort:{createdAt:-1}},{$limit:r+1}]).exec();case 21:return s=e.sent,console.log(s),p=s.length>r,d=p?s.slice(0,-1):s,console.log("the edges: ",d),e.abrupt("return",{edges:d,pageInfo:{hasNextPage:p,endCursor:cn(null===(i=d[d.length-1])||void 0===i||null===(a=i.createdAt)||void 0===a?void 0:a.toString())}});case 27:case"end":return e.stop()}var f}),e)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"userById",value:(d=Gr(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn.findById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"user",value:(p=Gr(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.email,i=t.role,a=t.name,o=t.bio,u=t.birth,e.next=3,nn.findOne({username:r,birth:u,email:n,role:i,name:a,bio:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"users",value:(s=Gr(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.role,n=t.name,i=t.bio,a=t.thndrCount,o=[],e.next=4,nn.find({role:r,name:n,bio:i,thndrCount:a},(function(e,t){if(e)return console.log("An error occurred: ",e),e;o=t}));case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"followUser",value:(l=Gr(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==r.user.id){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,nn.updateOne({_id:t},{$push:{followerIds:r.user.id}});case 5:if(n=e.sent,console.log("followedUser: ",n),0!=n.n){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,nn.updateOne({_id:r.user.id},{$push:{followingIds:t}});case 11:return i=e.sent,console.log("followingUser: ",i),e.abrupt("return",!!i);case 16:e.prev=16,e.t0=e.catch(2),console.log("the error: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])}))),function(e,t){return l.apply(this,arguments)})},{key:"unfollowUser",value:(c=Gr(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==r.user.id){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,nn.updateOne({_id:t},{$pull:{followerIds:r.user.id}});case 5:if(0!==e.sent.n){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,nn.updateOne({_id:r.user.id},{$pull:{followingIds:t}});case 10:return n=e.sent,e.abrupt("return",!!n);case 14:e.prev=14,e.t0=e.catch(2),console.log("the error: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),function(e,t){return c.apply(this,arguments)})},{key:"reverbThndr",value:(u=Gr(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.findById(t);case 2:if(n=e.sent,i=n){e.next=6;break}return e.abrupt("return",!1);case 6:if(!n.isReposted){e.next=10;break}return e.next=9,an.findById(i.reverb.originalThndrId);case 9:i=e.sent;case 10:return e.next=12,an.create({fileIds:i.fileIds,userId:i.userId,likesIds:i.likesIds,isReposted:!0,repost:{reposterId:r.user.id,originalThndrId:i.id}});case 12:return(a=e.sent).save(),console.log("the reverbed thndr: ",a),e.abrupt("return",!!a);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return u.apply(this,arguments)})},{key:"unreverbThndr",value:(o=Gr(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.findById(t);case 2:return n=e.sent,e.next=5,an.findOne({"reverb.originalThndrId":n.id,"reverb.reverberId":r.user.id});case 5:if(!(i=e.sent)){e.next=12;break}return e.next=9,i.remove();case 9:return e.abrupt("return",!0);case 12:return e.next=14,an.findById(n.reverb.originalThndrId);case 14:return a=e.sent,e.next=17,a.remove();case 17:return e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"likeThndr",value:(a=Gr(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.findById(t);case 2:if(n=e.sent,i=n){e.next=6;break}return e.abrupt("return",!1);case 6:if(!n.isReposted){e.next=10;break}return e.next=9,an.findById(i.reverb.originalThndrId);case 9:i=e.sent;case 10:return e.next=12,an.find({"reverb.originalThndrId":i.id},"_id");case 12:return a=e.sent,e.next=15,an.updateMany({_id:{$in:[].concat(Er(a.map((function(e){return e._id}))),[i.id])}},{$push:{likesIds:r.user.id}});case 15:if(a){e.next=17;break}return e.abrupt("return",!1);case 17:return e.abrupt("return",!!n);case 18:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"unlikeThndr",value:(i=Gr(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an.findById(t);case 2:if(n=e.sent,i=n){e.next=6;break}return e.abrupt("return",!1);case 6:if(!n.isReposted){e.next=10;break}return e.next=9,an.findById(i.reverb.originalThndrId);case 9:i=e.sent;case 10:return e.next=12,an.find({"reverb.originalThndrId":i.id},"_id");case 12:return a=e.sent,e.next=15,an.updateMany({_id:{$in:[].concat(Er(a.map((function(e){return e._id}))),[i.id])}},{$pull:{likesIds:r.user.id}});case 15:if(a){e.next=17;break}return e.abrupt("return",!1);case 17:return e.abrupt("return",!!n);case 18:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})}])&&Wr(t.prototype,r),n&&Wr(t,n),e}()).prototype,"createThndrPost",[_t,Ut,Et,$t,Nt,Lt],Object.getOwnPropertyDescriptor(qr.prototype,"createThndrPost"),qr.prototype),Vr(qr.prototype,"thndrs",[Qt,Kt,Gt,Wt,Vt,Jt],Object.getOwnPropertyDescriptor(qr.prototype,"thndrs"),qr.prototype),Vr(qr.prototype,"userById",[Ht,Xt,Yt,Zt],Object.getOwnPropertyDescriptor(qr.prototype,"userById"),qr.prototype),Vr(qr.prototype,"user",[er,tr,rr],Object.getOwnPropertyDescriptor(qr.prototype,"user"),qr.prototype),Vr(qr.prototype,"users",[nr,ir,ar],Object.getOwnPropertyDescriptor(qr.prototype,"users"),qr.prototype),Vr(qr.prototype,"followUser",[or,ur,cr,lr,sr],Object.getOwnPropertyDescriptor(qr.prototype,"followUser"),qr.prototype),Vr(qr.prototype,"unfollowUser",[pr,dr,fr,br,yr],Object.getOwnPropertyDescriptor(qr.prototype,"unfollowUser"),qr.prototype),Vr(qr.prototype,"reverbThndr",[gr,mr,hr,vr,Or],Object.getOwnPropertyDescriptor(qr.prototype,"reverbThndr"),qr.prototype),Vr(qr.prototype,"unreverbThndr",[wr,xr,jr,Ir,Rr],Object.getOwnPropertyDescriptor(qr.prototype,"unreverbThndr"),qr.prototype),Vr(qr.prototype,"likeThndr",[Sr,kr,Tr,zr,Pr],Object.getOwnPropertyDescriptor(qr.prototype,"likeThndr"),qr.prototype),Vr(qr.prototype,"unlikeThndr",[Fr,Cr,Ar,Mr,Dr],Object.getOwnPropertyDescriptor(qr.prototype,"unlikeThndr"),qr.prototype),Br=qr))||Br);function sn(e,t,r,n,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var dn,fn,bn,yn,gn,mn,hn=r(11).ThndrModel,vn=(r(6).FileModel,Jr=Object(O.Resolver)(_r),Hr=Object(O.Query)((function(e){return At})),Xr=Reflect.metadata("design:type",Function),Yr=Reflect.metadata("design:paramtypes",[void 0]),Jr((dn=(en=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,i,a;return t=e,(r=[{key:"thndr",value:(i=regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.text,n=t.createdAt,i=t.userId,a=t.likesCount,o=t.repostsCount,e.prev=1,e.next=4,hn.find({text:r,createdAt:n,userId:i,likesCount:a,repostsCount:o});case 4:return u=e.sent,e.abrupt("return",u);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("The error: ",e.t0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=i.apply(e,t);function o(e){sn(a,r,n,o,u,"next",e)}function u(e){sn(a,r,n,o,u,"throw",e)}o(void 0)}))},function(e){return a.apply(this,arguments)})}])&&pn(t.prototype,r),n&&pn(t,n),e}()).prototype,fn="thndr",bn=[Hr,Xr,Yr],yn=Object.getOwnPropertyDescriptor(en.prototype,"thndr"),gn=en.prototype,mn={},Object.keys(yn).forEach((function(e){mn[e]=yn[e]})),mn.enumerable=!!mn.enumerable,mn.configurable=!!mn.configurable,("value"in mn||mn.initializer)&&(mn.writable=!0),mn=bn.slice().reverse().reduce((function(e,t){return t(dn,fn,e)||e}),mn),gn&&void 0!==mn.initializer&&(mn.value=mn.initializer?mn.initializer.call(gn):void 0,mn.initializer=void 0),void 0===mn.initializer&&(Object.defineProperty(dn,fn,mn),mn=null),Zr=en))||Zr);function On(e,t,r,n,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}function wn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){On(a,n,i,o,u,"next",e)}function u(e){On(a,n,i,o,u,"throw",e)}o(void 0)}))}}r(9).UserModel,r(14);var xn=r(26),jn=r(30),In=r(31);r(7).config();var Rn=r(1);console.log(process.env.MONGO_DEV_URI),Rn.connect(process.env.MONGO_DEV_URI,{useNewUrlParser:!0,keepAlive:!0,useUnifiedTopology:!0,useCreateIndex:!0}).catch((function(e){throw new Error(e)}));var Sn=function(e){var t=parseInt(e,10);if(isNaN(t))return e;if(t>=0)return t;return!1}(process.env.PORT||"3001");xn.set("port",Sn);var kn={origin:"*",credentials:!0},Tn=function(){var e=wn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.buildSchema)({resolvers:[vn,ln]});case 2:t=e.sent,r=new h.ApolloServer({schema:t,engine:{apiKey:process.env.APOLLO_KEY},playground:!0,introspection:!0,context:function(){var e=wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uploads:!1}),xn.use(Object(v.graphqlUploadExpress)({maxFileSize:1e8,maxFiles:4})),r.applyMiddleware({app:xn,cors:kn}),xn.listen(4e3,(function(){console.log("ApolloServer running on port 4000")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zn=jn.createServer(xn);zn.listen(Sn),zn.on("listening",(function(){var e=zn.address(),t="string"==typeof e?"pipe "+e:"port "+e.port;In("Listening on "+t)})),Tn()}]);
//# sourceMappingURL=main.js.map